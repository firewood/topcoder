// BEGIN CUT HERE
/*
SRM 671 Div2 Medium (500)

PROBLEM STATEMENT
Limak is an old brown bear who likes to play darts.

Limak just picked up an empty scorecard.
He then threw a sequence of darts into a dartboard and for each dart he recorded the point value of the area it hit.
You are given a vector <int> w containing the contents of Limak's scorecard: a sequence of point values.

Today there is a special jackpot.
In order to win the jackpot, the player must present a scorecard with exactly four scores: (a, b, c, d).
Additionally, these scores must be such that a*b*c = d.
Note that order matters: the scores a, b, c, d must have been obtained in this particular order.

Limak wants to erase all but four scores from his scorecard in such a way that he will win the jackpot.
Compute and return the number of different ways in which he can do that.


DEFINITION
Class:BearDartsDiv2
Method:count
Parameters:vector <int>
Returns:long long
Method signature:long long count(vector <int> w)


NOTES
-Pay attention to the unusual time limit.


CONSTRAINTS
-w will contain between 4 and 500 elements, inclusive.
-Each element in w will be between 1 and 10^6, inclusive.


EXAMPLES

0)
{10,2,2,7,40,160}

Returns: 2

Limak must erase two of the six scores on his scorecard.
There are two ways to do that and win the jackpot:

Erase the elements on 0-based indices 3 and 5. You are left with (a,b,c,d) = (10,2,2,40), and 10*2*2 = 40.
Erase the elements on 0-based indices 0 and 3. You are left with (a,b,c,d) = (2,2,40,160), and 2*2*40 = 160.


1)
{128,64,32,16,8,4,2,1}

Returns: 0

Regardless of which four scores Limak erases, the remaining four will always have a > b > c > d and therefore it cannot be the case that a*b*c = d.

2)
{2,3,4,5,6,8,12,16,20,24,40,24,20,16,12,8,6,5,4,3,2}

Returns: 3



3)
{100,100,100,1000000,1000000,1000000,1000000,1000000}

Returns: 5



4)
{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}

Returns: 2573031125



*/
// END CUT HERE
#include <algorithm>
#include <string>
#include <map>
#include <vector>
#include <iostream>
#include <sstream>
#include <cstring>

using namespace std;

typedef long long LL;
typedef map<LL, LL> LLMap;

class BearDartsDiv2 {
public:
	long long count(vector <int> w) {
		LL ans = 0;
		LLMap m[3];
		for (int i = 0; i != w.size(); ++i) {
			LLMap::const_iterator it;
			ans += m[2][w[i]];
			for (int j = 1; j >= 0; --j) {
				for (it = m[j].begin(); it != m[j].end(); ++it) {
					LL a = it->first * w[i];
					if (a <= 1000000) {
						m[j + 1][a] += it->second;
					}
				}
			}
			m[0][w[i]] += 1;
		}
		return ans;
	}

// BEGIN CUT HERE
private:
	template <typename T> string print_array(const vector<T> &V) { ostringstream os; os << "{ "; for (typename vector<T>::const_iterator iter = V.begin(); iter != V.end(); ++iter) os << '\"' << *iter << "\","; os << " }"; return os.str(); }

	void verify_case(int Case, const long long &Expected, const long long &Received) { cerr << "Test Case #" << Case << "..."; if (Expected == Received) cerr << "PASSED" << endl; else { cerr << "FAILED" << endl; cerr << "\tExpected: \"" << Expected << '\"' << endl; cerr << "\tReceived: \"" << Received << '\"' << endl; } }

public:
	void run_test(int Case) { 
		int n = 0;

		// test_case_0
		if ((Case == -1) || (Case == n)){
			int Arr0[] = {10,2,2,7,40,160};
			long long Arg1 = 2LL;

			vector <int> Arg0(Arr0, Arr0 + (sizeof(Arr0) / sizeof(Arr0[0])));
			verify_case(n, Arg1, count(Arg0));
		}
		n++;

		// test_case_1
		if ((Case == -1) || (Case == n)){
			int Arr0[] = {128,64,32,16,8,4,2,1};
			long long Arg1 = 0LL;

			vector <int> Arg0(Arr0, Arr0 + (sizeof(Arr0) / sizeof(Arr0[0])));
			verify_case(n, Arg1, count(Arg0));
		}
		n++;

		// test_case_2
		if ((Case == -1) || (Case == n)){
			int Arr0[] = {2,3,4,5,6,8,12,16,20,24,40,24,20,16,12,8,6,5,4,3,2};
			long long Arg1 = 3LL;

			vector <int> Arg0(Arr0, Arr0 + (sizeof(Arr0) / sizeof(Arr0[0])));
			verify_case(n, Arg1, count(Arg0));
		}
		n++;

		// test_case_3
		if ((Case == -1) || (Case == n)){
			int Arr0[] = {100,100,100,1000000,1000000,1000000,1000000,1000000};
			long long Arg1 = 5LL;

			vector <int> Arg0(Arr0, Arr0 + (sizeof(Arr0) / sizeof(Arr0[0])));
			verify_case(n, Arg1, count(Arg0));
		}
		n++;

		// test_case_4
		if ((Case == -1) || (Case == n)){
			int Arr0[] = {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1};
			long long Arg1 = 2573031125LL;

			vector <int> Arg0(Arr0, Arr0 + (sizeof(Arr0) / sizeof(Arr0[0])));
			verify_case(n, Arg1, count(Arg0));
		}
		n++;

		if ((Case == -1) || (Case == n)){
			int Arr0[] = { 49908, 3890, 39435, 6819, 14062, 28691, 44566, 13818, 10884, 42503, 42524, 9728, 24704, 9260, 21218, 21193, 9516, 16034, 5083, 44448, 40242, 23105, 13246, 17851, 41773, 23656, 1848, 32516, 26735, 44193, 8478, 26519, 48082, 47912, 19501, 48307, 12643, 13943, 12002, 23527, 6323, 40689, 19418, 17190, 49948, 40635, 38383, 9340, 6546, 29629, 39951, 32951, 2611, 3073, 36965, 30547, 12893, 24976, 12939, 25791, 19045, 7581, 2186, 3168, 41656, 7850, 1351, 4176, 7956, 49639, 27702, 14278, 26368, 33283, 17632, 26192, 23794, 42178, 21696, 16503, 21683, 11523, 35617, 10457, 760, 22458, 41003, 13652, 33597, 40106, 39442, 2519, 33850, 27791, 41973, 25382, 35640, 29487, 29557, 43595, 15167, 43422, 44037, 41534, 26581, 47832, 17603, 36539, 39886, 39298, 39205, 47732, 36984, 24699, 8066, 37743, 33320, 35232, 37558, 16794, 11378, 26876, 5476, 45227, 40830, 33612, 20486, 12510, 12975, 36206, 42269, 28141, 15669, 22346, 19552, 28413, 20054, 23318, 992, 9816, 48779, 40197, 7424, 35639, 14772, 1653, 9423, 34255, 23049, 46980, 37212, 34426, 9897, 42687, 15694, 36890, 26175, 22343, 49400, 39150, 8425, 41545, 3331, 10257, 13767, 22882, 38670, 19984, 32363, 39661, 29799, 31018, 15898, 23386, 2698, 30669, 11203, 12120, 965, 34251, 45263, 38176, 18553, 41323, 16904, 34246, 28090, 43078, 6465, 13530, 18268, 1054, 4951, 7763, 47597, 4881, 16808, 36143, 24864, 49171, 11845, 40826, 16229, 27742, 252, 18926, 44575, 11454, 17209, 31703, 45704, 48636, 19755, 298, 39835, 36658, 20707, 3965, 15777, 13336, 17494, 20208, 553, 22444, 27970, 48149, 13488, 44778, 20333, 24515, 29989, 18341, 1381, 46217, 32246, 1633, 15020, 26697, 49373, 18392, 44563, 31118, 16904, 359, 31415, 42903, 37016, 38285, 46867, 38956, 1497, 14238, 45328, 2049, 22845, 23174, 75, 22497, 3992, 6571, 47011, 33980, 24911, 34556, 30074, 7033, 36188, 31257, 19894, 21601, 49648, 14333, 2595, 2593, 14691, 20173, 45495, 37871, 8335, 28402, 12867, 46118, 42639, 8071, 34331, 1525, 31245, 34405, 24021, 21400, 27139, 7072, 5257, 1926, 41627, 35330, 8958, 13855, 2627, 15015, 35456, 38438, 29348, 24214, 41030, 30202, 30551, 22565, 17949, 25049, 844, 30816, 21043, 29646, 25050, 5250, 17334, 42458, 25818, 41354, 13735, 2833, 48426, 18991, 41045, 39929, 40484, 50003, 3661, 43110, 14894, 25280, 31424, 55581, 914752, 852882, 773744, 261216, 782119, 24314, 922492, 926394, 466000, 891376, 394928, 552278, 404072, 445204, 786432, 294418, 82740, 780330, 326316, 960492, 715616, 349996, 561543, 114758, 411400, 761136, 930130, 790736, 445325, 541876, 571640, 790390, 257764, 616376, 142488, 656964, 630560, 247710, 264472, 114148, 119844, 150056, 680960, 365440, 573864, 384126, 418173, 13632, 417808, 274832, 609216, 932929, 840934, 661552, 939166, 266919, 629408, 227022, 846048, 954488, 484672, 259138, 339504, 478720, 688240, 616406, 419884, 782144, 36288, 226439, 891760, 825010, 765312, 661764, 38254, 404150, 471002, 704968, 5712, 154983, 110228, 616157, 529408, 427456, 366494, 718984, 810848, 856938, 220950, 923896, 517768, 266976, 914408, 864896, 11544, 651824, 485668, 598362, 998656, 52695, 680628, 566908, 463824, 502788, 648848, 657344, 937904, 781392, 304288, 800992, 322591, 277584, 762940, 549008, 317366, 234161, 252584, 571912, 40948, 238330, 895020, 641676, 35351, 787182, 293100, 770480, 637532, 997122, 808592, 795868, 967675, 463111, 968224, 889732, 193920, 551024, 652, 598998, 653355, 901974, 296912, 308272, 342692, 453032, 83712, 754206, 576712, 370400, 442499, 552740, 359317, 864104, 879872, 877049, 692096, 866944, 342370, 154772, 997565, 403744, 624256, 135776, 637128, 44272, 944406, 368686 };
			long long Arg1 = 0LL;

			vector <int> Arg0(Arr0, Arr0 + (sizeof(Arr0) / sizeof(Arr0[0])));
			verify_case(n, Arg1, count(Arg0));
		}
		n++;

	}

// END CUT HERE

};

// BEGIN CUT HERE
int main() {
	BearDartsDiv2 ___test;
	___test.run_test(-1);
}
// END CUT HERE
